# E2E Test Suite for AI Game Development Library

This directory contains comprehensive end-to-end tests that demonstrate the full AI-powered game generation pipeline using real OpenAI integration.

## Test Coverage

### ðŸŽ® Game Engines Supported
- **Pygame**: Space shooter and platformer games  
- **Bevy**: 3D exploration and 2D action games (Rust)
- **Godot**: RPG and puzzle games (GDScript)
- **Arcade**: Twin-stick shooter and educational games

### ðŸ§ª Test Features
- **Real AI Integration**: Uses actual OpenAI API calls with pytest-vcr recording
- **Complete Asset Generation**: Generates sprites, 3D models, music, and sound effects
- **Full Game Projects**: Creates runnable games with proper file structures
- **Verification Reports**: JSON reports with detailed generation metrics

## Running E2E Tests

### Using Hatch Environment

```bash
# Run all E2E tests
hatch --env e2e run run-all

# Run specific engine tests
hatch --env e2e run pygame
hatch --env e2e run bevy  
hatch --env e2e run godot
hatch --env e2e run arcade
```

### Direct pytest

```bash
# Run all E2E tests with markers
pytest -m e2e -v tests/e2e/

# Run specific test file
pytest -v tests/e2e/test_pygame_e2e.py::TestPygameE2E::test_generate_pygame_space_shooter
```

## Test Structure

```
tests/e2e/
â”œâ”€â”€ conftest.py           # E2E test configuration with VCR setup
â”œâ”€â”€ test_pygame_e2e.py    # Pygame game generation tests
â”œâ”€â”€ test_bevy_e2e.py      # Bevy (Rust) game generation tests  
â”œâ”€â”€ test_godot_e2e.py     # Godot game generation tests
â”œâ”€â”€ test_arcade_e2e.py    # Arcade game generation tests
â”œâ”€â”€ test_runner.py        # Test runner utility
â”œâ”€â”€ cassettes/            # VCR cassettes for API call replay
â”œâ”€â”€ outputs/              # Generated game projects
â””â”€â”€ README.md             # This file
```

## Generated Outputs

Each test generates a complete, playable game project:

- **Source code** with proper engine structure
- **Asset files** (sprites, models, sounds)
- **Requirements** and installation instructions  
- **Documentation** with controls and features
- **Verification reports** with generation metrics

## Example Output Structure

```
outputs/
â”œâ”€â”€ pygame_space_shooter/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ player_ship.png
â”‚   â”‚   â”œâ”€â”€ enemy_ship.png
â”‚   â”‚   â””â”€â”€ background_music.wav
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ bevy_crystal_caverns/
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”œâ”€â”€ src/main.rs
â”‚   â”œâ”€â”€ assets/models/
â”‚   â””â”€â”€ build.sh
â””â”€â”€ ...
```

## Prerequisites

- OpenAI API key set in environment (`OPENAI_API_KEY`)
- Python 3.11+ with AI Game Dev library installed
- Rust toolchain (for Bevy tests)
- Godot Engine (for Godot tests)

## VCR Cassette Management

API calls are recorded with pytest-vcr:
- First run makes real API calls and records responses
- Subsequent runs replay recorded responses for speed
- Delete cassettes to re-record with fresh API calls

Generated by AI Game Dev Library - Professional E2E Test Suite