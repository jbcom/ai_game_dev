{% extends "base/layout.html" %}

{% block title %}Dashboard - AI Game Development Portal{% endblock %}

{% block content %}
<!-- Compact Hero Section with Engine Selection -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
    <!-- Hero Content -->
    <div class="lg:col-span-2 glass-panel rounded-box p-8 relative overflow-hidden">
        <div class="absolute inset-0 particle-glow opacity-20"></div>
        <div class="relative z-10">
            <div class="flex items-center gap-4 mb-4">
                <img src="/static/assets/logos/main-logo.svg" alt="AI Game Dev" class="w-16 h-16 object-contain glow">
                <div>
                    <h1 class="text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">
                        AI Game Development
                    </h1>
                    <p class="text-lg opacity-80">Create games with AI assistance</p>
                </div>
            </div>
            
            <!-- Quick Start Wizard -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                {% for engine in engines %}
                <a href="/web/new_project?engine={{ engine }}" 
                   class="card glass-panel hover:scale-105 transition-all duration-300 group">
                    <div class="card-body p-4 text-center">
                        <div class="mb-2">
                            {% if engine == 'pygame' %}
                            <div class="w-12 h-12 mx-auto rounded-lg bg-orange-500 flex items-center justify-center text-2xl">🐍</div>
                            {% elif engine == 'bevy' %}
                            <div class="w-12 h-12 mx-auto rounded-lg bg-orange-600 flex items-center justify-center text-2xl">🦀</div>
                            {% elif engine == 'godot' %}
                            <div class="w-12 h-12 mx-auto rounded-lg bg-blue-500 flex items-center justify-center text-2xl">🎮</div>
                            {% endif %}
                        </div>
                        <h3 class="font-bold">{{ engine|title }}</h3>
                        <p class="text-xs opacity-70">
                            {% if engine == 'pygame' %}Python 2D{% elif engine == 'bevy' %}Rust ECS{% elif engine == 'godot' %}Visual Script{% endif %}
                        </p>
                        <div class="group-hover:text-primary transition-colors text-sm mt-2">Start Project →</div>
                    </div>
                </a>
                {% endfor %}
            </div>
            
            <!-- Quick Actions -->
            <div class="flex flex-wrap gap-2">
                <a href="/web/new_project" class="btn custom-button btn-sm">🚀 New Project</a>
                <a href="/web/projects" class="btn btn-outline btn-sm">📁 My Projects</a>
                <a href="/web/engines" class="btn btn-ghost btn-sm">⚙️ Learn More</a>
            </div>
        </div>
    </div>
    
    <!-- Stats & Activity Sidebar -->
    <div class="space-y-4">
        <!-- Compact Stats -->
        <div class="glass-panel p-4 rounded-box">
            <h3 class="font-bold mb-3 text-center">📊 Platform Stats</h3>
            <div class="grid grid-cols-1 gap-3">
                <div class="text-center">
                    <div class="text-2xl font-bold text-primary">{{ engines|length }}</div>
                    <div class="text-xs opacity-70">Engines</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-secondary">{{ stats.projects_generated or 0 }}</div>
                    <div class="text-xs opacity-70">Projects</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-accent">{{ stats.assets_created or 0 }}</div>
                    <div class="text-xs opacity-70">Assets</div>
                </div>
            </div>
        </div>
        
        <!-- Recent Activity -->
        <div class="glass-panel p-4 rounded-box">
            <h3 class="font-bold mb-3">📈 Recent Activity</h3>
            {% if recent_projects %}
                <div class="space-y-2">
                    {% for project in recent_projects[:3] %}
                    <div class="flex justify-between items-center text-sm">
                        <span class="truncate">{{ project.name }}</span>
                        <span class="text-xs opacity-70">{{ project.engine }}</span>
                    </div>
                    {% endfor %}
                </div>
                {% if recent_projects|length > 3 %}
                <div class="text-center mt-2">
                    <a href="/web/projects" class="text-xs opacity-70 hover:opacity-100">View all →</a>
                </div>
                {% endif %}
            {% else %}
                <div class="text-center py-4">
                    <div class="text-2xl mb-2">🎮</div>
                    <p class="text-sm opacity-70">No projects yet</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- Compact Feature Overview -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
    <div class="glass-panel p-4 text-center">
        <div class="text-2xl mb-2">🤖</div>
        <h3 class="font-bold text-sm">AI-Powered</h3>
        <p class="text-xs opacity-70">Multi-LLM generation</p>
    </div>
    <div class="glass-panel p-4 text-center">
        <div class="text-2xl mb-2">⚡</div>
        <h3 class="font-bold text-sm">Real-time</h3>
        <p class="text-xs opacity-70">Live generation feedback</p>
    </div>
    <div class="glass-panel p-4 text-center">
        <div class="text-2xl mb-2">🎨</div>
        <h3 class="font-bold text-sm">Asset Generation</h3>
        <p class="text-xs opacity-70">Images, sounds, music</p>
    </div>
    <div class="glass-panel p-4 text-center">
        <div class="text-2xl mb-2">📱</div>
        <h3 class="font-bold text-sm">Multi-Platform</h3>
        <p class="text-xs opacity-70">Web, desktop, mobile</p>
    </div>
</div>
{% endblock %}